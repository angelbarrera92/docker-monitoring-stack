# Prometheus Configuration
PROMETHEUS_VERSION=v3.8.1
PROMETHEUS_CONTAINER_NAME=prometheus
PROMETHEUS_PORT=9090
PROMETHEUS_RETENTION=15d
# Use a named volume (default) or host path (e.g., /data/prometheus)
PROMETHEUS_DATA_PATH=prometheus_data

# Grafana Configuration
GRAFANA_VERSION=12.3.1
GRAFANA_CONTAINER_NAME=grafana
GRAFANA_PORT=3000
# Prometheus URL for Grafana datasource
# Default: http://prometheus:9090 (Docker DNS)
# If Prometheus runs in host mode, use: http://host.docker.internal:9090 (Docker Desktop)
# or http://172.17.0.1:9090 (Linux) or the actual host IP
PROMETHEUS_URL=http://prometheus:9090
# Use a named volume (default) or host path (e.g., /data/grafana)
GRAFANA_DATA_PATH=grafana_data
# Server settings (important for OAuth redirects and reverse proxy)
GRAFANA_ROOT_URL=http://localhost:3000
GRAFANA_DOMAIN=localhost
# Admin credentials (change in production!)
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin
GRAFANA_ALLOW_SIGN_UP=false

# Advanced Grafana security and plugin options
GF_SECURITY_DISABLE_INITIAL_ADMIN_CREATION=false
GF_AUTH_BASIC_ENABLED=true
GF_AUTH_DISABLE_LOGIN_FORM=false
GF_INSTALL_PLUGINS=

# =============================================================================
# GitHub OAuth Configuration (optional)
# =============================================================================
# 1. Create OAuth App: https://github.com/settings/developers
#    - Application name: Your Grafana Instance
#    - Homepage URL: https://grafana.yourdomain.com
#    - Authorization callback URL: https://grafana.yourdomain.com/login/github
# 2. Set the values below
# =============================================================================
GF_AUTH_GITHUB_ENABLED=false
GF_AUTH_GITHUB_ALLOW_SIGN_UP=true
GF_AUTH_GITHUB_AUTO_LOGIN=false
GF_AUTH_GITHUB_CLIENT_ID=
GF_AUTH_GITHUB_CLIENT_SECRET=
GF_AUTH_GITHUB_SCOPES=user:email,read:org
# Restrict access to specific GitHub organization(s) - comma separated
GF_AUTH_GITHUB_ALLOWED_ORGANIZATIONS=
# Optional: Map GitHub org/team membership to Grafana roles
# Example: contains(groups[*], '@myorg/admins') && 'Admin' || 'Viewer'
GF_AUTH_GITHUB_ROLE_ATTRIBUTE_PATH=
GF_AUTH_GITHUB_ALLOW_ASSIGN_GRAFANA_ADMIN=false
GF_AUTH_GITHUB_ROLE_ATTRIBUTE_STRICT=false

# Network Configuration
RESTART_POLICY=unless-stopped
MONITORING_NETWORK=monitoring
# Use host network mode to access VPN interfaces directly (bypasses Docker networking)
# Note: When using host mode, port mappings are ignored
# PROMETHEUS_NETWORK_MODE=host
